define(["ajax","jquery","container","define","selector","alert","contextmenu","sidebar","content"],function(n,i,t,o,e,a,s,c,u){return{lang:null,init:function(i){this.lang=i;var o=this;n.open({url:n.script.login,data:{init:!0},begin:function(n){t.startLoading(i.get("user.login.alert.loging_check"))},end:function(n){t.stopLoading()},success:function(n){o.check(n)&&o.run(o)}})},check:function(n){return 0==(n.code_sys&o.code.is_not_login)||(this.show(),!1)},show:function(){var i=this;t.hidden(),a.add(this.lang.get("user.login.alert.not_login")),e.login.stop().css({display:"block",opacity:0}).animate({opacity:1},o.time.animate_show,function(){var o=e.login.find("form"),a=o.find("input[name=username]"),s=o.find("input[name=password]"),c=o.find("button[type=submit]");o.unbind("submit").bind("submit",function(){n.open({url:n.script.login,data:{username:a.val(),password:s.val(),submit:c.val()},begin:function(){t.startLoading(i.lang.get("user.login.alert.loging"))},end:function(){t.stopLoading()},success:function(n){i.check(n)&&(i.hidden(),i.run(i))}})})})},hidden:function(){e.login.stop().animate({opacity:0},o.time.animate_hidden,function(){e.login.css({display:"none"})})},run:function(n){void 0===n&&(n=this),t.show(),s.init(n.lang,n),c.file.init(n.lang,n,u),u.file.init(n.lang,n)}}});